/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2012, John Dyer (http://j.hn)
* Dual licensed under the MIT or GPL Version 2 licenses.
*
*/
function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(e){mejs.YouTubeApi.flashReady(e)}var mejs=mejs||{};mejs.version="2.9.1",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo"]}]},mejs.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>',t.firstChild.href},getScriptPath:function(e){for(var t=0,n,r="",i="",s,o=document.getElementsByTagName("script"),u=o.length,a=e.length;t<u;t++){s=o[t].src;for(n=0;n<a;n++){i=e[n];if(s.indexOf(i)>-1){r=s.substring(0,s.indexOf(i));break}}if(r!=="")break}return r},secondsToTimeCode:function(e,t,n,r){typeof n=="undefined"?n=!1:typeof r=="undefined"&&(r=25);var i=Math.floor(e/3600)%24,s=Math.floor(e/60)%60,o=Math.floor(e%60);return e=Math.floor((e%1*r).toFixed(3)),(t||i>0?(i<10?"0"+i:i)+":":"")+(s<10?"0"+s:s)+":"+(o<10?"0"+o:o)+(n?":"+(e<10?"0"+e:e):"")},timeCodeToSeconds:function(e,t,n,r){typeof n=="undefined"?n=!1:typeof r=="undefined"&&(r=25),e=e.split(":"),t=parseInt(e[0],10);var i=parseInt(e[1],10),s=parseInt(e[2],10),o=0,u=0;return n&&(o=parseInt(e[3])/r),u=t*3600+i*60+s+o},removeSwf:function(e){var t=document.getElementById(e);t&&t.nodeName=="OBJECT"&&(mejs.MediaFeatures.isIE?(t.style.display="none",function(){t.readyState==4?mejs.Utility.removeObjectInIE(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},removeObjectInIE:function(e){if(e=document.getElementById(e)){for(var t in e)typeof e[t]=="function"&&(e[t]=null);e.parentNode.removeChild(e)}}},mejs.PluginDetector={hasPluginVersion:function(e,t){var n=this.plugins[e];return t[1]=t[1]||0,t[2]=t[2]||0,n[0]>t[0]||n[0]==t[0]&&n[1]>t[1]||n[0]==t[0]&&n[1]==t[1]&&n[2]>=t[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,n,r,i){this.plugins[e]=this.detectPlugin(t,n,r,i)},detectPlugin:function(e,t,n,r){var i=[0,0,0],s;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[e]=="object"){if((n=this.nav.plugins[e].description)&&(typeof this.nav.mimeTypes=="undefined"||!this.nav.mimeTypes[t]||!!this.nav.mimeTypes[t].enabledPlugin)){i=n.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(e=0;e<i.length;e++)i[e]=parseInt(i[e].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{if(s=new ActiveXObject(n))i=r(s)}catch(o){}return i}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[];if(e=e.GetVariable("$version"))e=e.split(" ")[1].split(","),t=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)];return t}),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(e){var t=[0,0,0,0],n=function(e,t,n,r){for(;e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3]);)t[n]+=r;t[n]-=r};return n(e,t,0,1),n(e,t,1,1),n(e,t,2,1e4),n(e,t,2,1e3),n(e,t,2,100),n(e,t,2,10),n(e,t,2,1),n(e,t,3,1),t}),mejs.MediaFeatures={init:function(){var e=this,t=document,n=mejs.PluginDetector.nav,r=mejs.PluginDetector.ua.toLowerCase(),i,s=["source","track","audio","video"];e.isiPad=r.match(/ipad/i)!==null,e.isiPhone=r.match(/iphone/i)!==null,e.isiOS=e.isiPhone||e.isiPad,e.isAndroid=r.match(/android/i)!==null,e.isBustedAndroid=r.match(/android 2\.[12]/)!==null,e.isIE=n.appName.toLowerCase().indexOf("microsoft")!=-1,e.isChrome=r.match(/chrome/gi)!==null,e.isFirefox=r.match(/firefox/gi)!==null,e.isWebkit=r.match(/webkit/gi)!==null,e.isGecko=r.match(/gecko/gi)!==null&&!e.isWebkit,e.isOpera=r.match(/opera/gi)!==null,e.hasTouch="ontouchstart"in window;for(n=0;n<s.length;n++)i=document.createElement(s[n]);e.supportsMediaTag=typeof i.canPlayType!="undefined"||e.isBustedAndroid,e.hasSemiNativeFullScreen=typeof i.webkitEnterFullscreen!="undefined",e.hasWebkitNativeFullScreen=typeof i.webkitRequestFullScreen!="undefined",e.hasMozNativeFullScreen=typeof i.mozRequestFullScreen!="undefined",e.hasTrueNativeFullScreen=e.hasWebkitNativeFullScreen||e.hasMozNativeFullScreen,e.nativeFullScreenEnabled=e.hasTrueNativeFullScreen,e.hasMozNativeFullScreen&&(e.nativeFullScreenEnabled=i.mozFullScreenEnabled),this.isChrome&&(e.hasSemiNativeFullScreen=!1),e.hasTrueNativeFullScreen&&(e.fullScreenEventName=e.hasWebkitNativeFullScreen?"webkitfullscreenchange":"mozfullscreenchange",e.isFullScreen=function(){if(i.mozRequestFullScreen)return t.mozFullScreen;if(i.webkitRequestFullScreen)return t.webkitIsFullScreen},e.requestFullScreen=function(t){e.hasWebkitNativeFullScreen?t.webkitRequestFullScreen():e.hasMozNativeFullScreen&&t.mozRequestFullScreen()},e.cancelFullScreen=function(){e.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():e.hasMozNativeFullScreen&&document.mozCancelFullScreen()}),e.hasSemiNativeFullScreen&&r.match(/mac os x 10_5/i)&&(e.hasNativeFullScreen=!1,e.hasSemiNativeFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){for(var t=this.getElementsByTagName("source");t.length>0;)this.removeChild(t[0]);if(typeof e=="string")this.src=e;else{var n;for(t=0;t<e.length;t++)n=e[t],this.canPlayType(n.type)&&(this.src=n.src)}},setVideoSize:function(e,t){this.width=e,this.height=t}},mejs.PluginMediaElement=function(e,t,n){this.id=e,this.pluginType=t,this.src=n,this.events={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){this.pluginApi!=null&&(this.pluginType!="youtube"&&this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(e){var t,n,r,i=mejs.plugins[this.pluginType];for(t=0;t<i.length;t++){r=i[t];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,r.version))for(n=0;n<r.types.length;n++)if(e==r.types[n])return!0}return!1},positionFullscreenButton:function(e,t,n){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(e,t,n)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(e){if(typeof e=="string")this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e)),this.src=mejs.Utility.absolutizeUrl(e);else{var t,n;for(t=0;t<e.length;t++)n=e[t],this.canPlayType(n.type)&&(this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(n.src)),this.src=mejs.Utility.absolutizeUrl(e))}},setCurrentTime:function(e){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.seekTo(e):this.pluginApi.setCurrentTime(e),this.currentTime=e)},setVolume:function(e){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.setVolume(e*100):this.pluginApi.setVolume(e),this.volume=e)},setMuted:function(e){this.pluginApi!=null&&(this.pluginType=="youtube"?(e?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=e,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(e),this.muted=e)},setVideoSize:function(e,t){this.pluginElement.style&&(this.pluginElement.style.width=e+"px",this.pluginElement.style.height=t+"px"),this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(e,t)},setFullscreen:function(e){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(e)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},removeEventListener:function(e,t){if(!e)return this.events={},!0;var n=this.events[e];if(!n)return!0;if(!t)return this.events[e]=[],!0;for(i=0;i<n.length;i++)if(n[i]===t)return this.events[e].splice(i,1),!0;return!1},dispatchEvent:function(e){var t,n,r=this.events[e];if(r){n=Array.prototype.slice.call(arguments,1);for(t=0;t<r.length;t++)r[t].apply(null,n)}},attributes:{},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){return this.hasAttribute(e)?this.attributes[e]:""},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}},mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,n){this.pluginMediaElements[e]=t,this.htmlMediaElements[e]=n},initPlugin:function(e){var t=this.pluginMediaElements[e],n=this.htmlMediaElements[e];if(t){switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id),t.pluginApi=t.pluginElement.Content.MediaElementJS}t.pluginApi!=null&&t.success&&t.success(t,n)}},fireEvent:function(e,t,n){var r,i;e=this.pluginMediaElements[e],e.ended=!1,e.paused=!0,t={type:t,target:e};for(r in n)e[r]=n[r],t[r]=n[r];i=n.bufferedTime||0,t.target.buffered=t.buffered={start:function(){return 0},end:function(){return i},length:1},e.dispatchEvent(t.type,t)}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:!1,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(e,t){return mejs.HtmlMediaElementShim.create(e,t)},mejs.HtmlMediaElementShim={create:function(e,t){var n=mejs.MediaElementDefaults,r=typeof e=="string"?document.getElementById(e):e,i=r.tagName.toLowerCase(),s=i==="audio"||i==="video",o=s?r.getAttribute("src"):r.getAttribute("href");i=r.getAttribute("poster");var u=r.getAttribute("autoplay"),a=r.getAttribute("preload"),f=r.getAttribute("controls"),l;for(l in t)n[l]=t[l];return o=typeof o=="undefined"||o===null||o==""?null:o,i=typeof i=="undefined"||i===null?"":i,a=typeof a=="undefined"||a===null||a==="false"?"none":a,u=typeof u!="undefined"&&u!==null&&u!=="false",f=typeof f!="undefined"&&f!==null&&f!=="false",l=this.determinePlayback(r,n,mejs.MediaFeatures.supportsMediaTag,s,o),l.url=l.url!==null?mejs.Utility.absolutizeUrl(l.url):"",l.method=="native"?(mejs.MediaFeatures.isBustedAndroid&&(r.src=l.url,r.addEventListener("click",function(){r.play()},!1)),this.updateNative(l,n,u,a)):l.method!==""?this.createPlugin(l,n,i,u,a,f):(this.createErrorMessage(l,n,i),this)},determinePlayback:function(e,t,n,r,i){var s=[],o,u,a={method:"",url:"",htmlMediaElement:e,isVideo:e.tagName.toLowerCase()!="audio"},f,l;if(typeof t.type!="undefined"&&t.type!=="")if(typeof t.type=="string")s.push({type:t.type,url:i});else for(o=0;o<t.type.length;o++)s.push({type:t.type[o],url:i});else if(i!==null)u=this.formatType(i,e.getAttribute("type")),s.push({type:u,url:i});else for(o=0;o<e.childNodes.length;o++)u=e.childNodes[o],u.nodeType==1&&u.tagName.toLowerCase()=="source"&&(i=u.getAttribute("src"),u=this.formatType(i,u.getAttribute("type")),s.push({type:u,url:i}));!r&&s.length>0&&s[0].url!==null&&this.getTypeFromFile(s[0].url).indexOf("audio")>-1&&(a.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(e.canPlayType=function(e){return e.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""});if(n&&(t.mode==="auto"||t.mode==="native")){r||(o=document.createElement(a.isVideo?"video":"audio"),e.parentNode.insertBefore(o,e),e.style.display="none",a.htmlMediaElement=e=o);for(o=0;o<s.length;o++)if(e.canPlayType(s[o].type).replace(/no/,"")!==""||e.canPlayType(s[o].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){a.method="native",a.url=s[o].url;break}if(a.method==="native")return a.url!==null&&(e.src=a.url),a}if(t.mode==="auto"||t.mode==="shim")for(o=0;o<s.length;o++){u=s[o].type;for(e=0;e<t.plugins.length;e++){i=t.plugins[e],f=mejs.plugins[i];for(n=0;n<f.length;n++){l=f[n];if(l.version==null||mejs.PluginDetector.hasPluginVersion(i,l.version))for(r=0;r<l.types.length;r++)if(u==l.types[r])return a.method=i,a.url=s[o].url,a}}}return a.method===""&&s.length>0&&(a.url=s[0].url),a},formatType:function(e,t){return e&&!t?this.getTypeFromFile(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(e){return e=e.substring(e.lastIndexOf(".")+1),(/(mp4|m4v|ogg|ogv|webm|flv|wmv|mpeg|mov)/gi.test(e)?"video":"audio")+"/"+e},createErrorMessage:function(e,t,n){var r=e.htmlMediaElement,i=document.createElement("div");i.className="me-cannotplay";try{i.style.width=r.width+"px",i.style.height=r.height+"px"}catch(s){}i.innerHTML=n!==""?'<a href="'+e.url+'"><img src="'+n+'" width="100%" height="100%" /></a>':'<a href="'+e.url+'"><span>Download File</span></a>',r.parentNode.insertBefore(i,r),r.style.display="none",t.error(r)},createPlugin:function(e,t,n,r,i,s){n=e.htmlMediaElement;var o=1,u=1,a="me_"+e.method+"_"+mejs.meIndex++,f=new mejs.PluginMediaElement(a,e.method,e.url),l=document.createElement("div"),c;f.tagName=n.tagName;for(c=0;c<n.attributes.length;c++){var h=n.attributes[c];h.specified==1&&f.setAttribute(h.name,h.value)}for(c=n.parentNode;c!==null&&c.tagName.toLowerCase()!="body";){if(c.parentNode.tagName.toLowerCase()=="p"){c.parentNode.parentNode.insertBefore(c,c.parentNode);break}c=c.parentNode}e.isVideo?(o=t.videoWidth>0?t.videoWidth:n.getAttribute("width")!==null?n.getAttribute("width"):t.defaultVideoWidth,u=t.videoHeight>0?t.videoHeight:n.getAttribute("height")!==null?n.getAttribute("height"):t.defaultVideoHeight,o=mejs.Utility.encodeUrl(o),u=mejs.Utility.encodeUrl(u)):t.enablePluginDebug&&(o=320,u=240),f.success=t.success,mejs.MediaPluginBridge.registerPluginElement(a,f,n),l.className="me-plugin",l.id=a+"_container",e.isVideo?n.parentNode.insertBefore(l,n):document.body.insertBefore(l,document.body.childNodes[0]),r=["id="+a,"isvideo="+(e.isVideo?"true":"false"),"autoplay="+(r?"true":"false"),"preload="+i,"width="+o,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"height="+u],e.url!==null&&(e.method=="flash"?r.push("file="+mejs.Utility.encodeUrl(e.url)):r.push("file="+e.url)),t.enablePluginDebug&&r.push("debug=true"),t.enablePluginSmoothing&&r.push("smoothing=true"),s&&r.push("controls=true"),t.pluginVars&&(r=r.concat(t.pluginVars));switch(e.method){case"silverlight":l.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+a+'" name="'+a+'" width="'+o+'" height="'+u+'"><param name="initParams" value="'+r.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+t.pluginPath+t.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?(e=document.createElement("div"),l.appendChild(e),e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+a+'" width="'+o+'" height="'+u+'"><param name="movie" value="'+t.pluginPath+t.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+r.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):l.innerHTML='<embed id="'+a+'" name="'+a+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+t.pluginPath+t.flashName+'" flashvars="'+r.join("&")+'" width="'+o+'" height="'+u+'"></embed>';break;case"youtube":t=e.url.substr(e.url.lastIndexOf("=")+1),youtubeSettings={container:l,containerId:l.id,pluginMediaElement:f,pluginId:a,videoId:t,height:u,width:o},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":console.log("vimeoid"),f.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1),l.innerHTML='<object width="'+o+'" height="'+u+'"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="flashvars" value="api=1" /><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id='+f.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" /><embed src="//vimeo.com/moogaloop.swf?api=1&amp;clip_id='+f.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+o+'" height="'+u+'"></embed></object>'}return n.style.display="none",f},updateNative:function(e,t){var n=e.htmlMediaElement,r;for(r in mejs.HtmlMediaElement)n[r]=mejs.HtmlMediaElement[r];return t.success(n,n),n}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var e=document.createElement("script");e.src="http://www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(e){this.isLoaded?this.createIframe(e):(this.loadIframeApi(),this.iframeQueue.push(e))},createIframe:function(e){var t=e.pluginMediaElement,n=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=n,mejs.MediaPluginBridge.initPlugin(e.pluginId),setInterval(function(){mejs.YouTubeApi.createEvent(n,t,"timeupdate")},250)},onStateChange:function(e){mejs.YouTubeApi.handleStateChange(e.data,n,t)}}})},createEvent:function(e,t,n){n={type:n,target:t};if(e&&e.getDuration){t.currentTime=n.currentTime=e.getCurrentTime(),t.duration=n.duration=e.getDuration(),n.paused=t.paused,n.ended=t.ended,n.muted=e.isMuted(),n.volume=e.getVolume()/100,n.bytesTotal=e.getVideoBytesTotal(),n.bufferedBytes=e.getVideoBytesLoaded();var r=n.bufferedBytes/n.bytesTotal*n.duration;n.target.buffered=n.buffered={start:function(){return 0},end:function(){return r},length:1}}t.dispatchEvent(n.type,n)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=!0;this.iframeQueue.length>0;)this.createIframe(this.iframeQueue.pop())},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var t,n="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(t=document.createElement("div"),e.container.appendChild(t),t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'"><param name="movie" value="'+n+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+n+'" width="'+e.width+'" height="'+e.height+'" style="visibility: visible; "><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(e){var t=this.flashPlayers[e],n=document.getElementById(e),r=t.pluginMediaElement;r.pluginApi=r.pluginElement=n,mejs.MediaPluginBridge.initPlugin(e),n.cueVideoById(t.videoId),e=t.containerId+"_callback",window[e]=function(e){mejs.YouTubeApi.handleStateChange(e,n,r)},n.addEventListener("onStateChange",e),setInterval(function(){mejs.YouTubeApi.createEvent(n,r,"timeupdate")},250)},handleStateChange:function(e,t,n){switch(e){case-1:n.paused=!0,n.ended=!0,mejs.YouTubeApi.createEvent(t,n,"loadedmetadata");break;case 0:n.paused=!1,n.ended=!0,mejs.YouTubeApi.createEvent(t,n,"ended");break;case 1:n.paused=!1,n.ended=!1,mejs.YouTubeApi.createEvent(t,n,"play"),mejs.YouTubeApi.createEvent(t,n,"playing");break;case 2:n.paused=!0,n.ended=!1,mejs.YouTubeApi.createEvent(t,n,"pause");break;case 3:mejs.YouTubeApi.createEvent(t,n,"progress")}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,typeof jQuery!="undefined"?mejs.$=jQuery:typeof ender!="undefined"&&(mejs.$=ender),function(e){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(e,t){t.paused||t.ended?t.play():t.pause()}},{keys:[38],action:function(e,t){t.setVolume(Math.min(t.volume+.1,1))}},{keys:[40],action:function(e,t){t.setVolume(Math.max(t.volume-.1,0))}},{keys:[37,227],action:function(e,t){!isNaN(t.duration)&&t.duration>0&&(e.isVideo&&(e.showControls(),e.startControlsTimer()),t.setCurrentTime(Math.max(t.currentTime-t.duration*.05,0)))}},{keys:[39,228],action:function(e,t){!isNaN(t.duration)&&t.duration>0&&(e.isVideo&&(e.showControls(),e.startControlsTimer()),t.setCurrentTime(Math.min(t.currentTime+t.duration*.05,t.duration)))}},{keys:[70],action:function(e){typeof e.enterFullScreen!="undefined"&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}}]},mejs.mepIndex=0,mejs.players=[],mejs.MediaElementPlayer=function(t,n){if(this instanceof mejs.MediaElementPlayer)return this.$media=this.$node=e(t),this.node=this.media=this.$media[0],typeof this.node.player!="undefined"?this.node.player:(this.node.player=this,typeof n=="undefined"&&(n=this.$node.data("mejsoptions")),this.options=e.extend({},mejs.MepDefaults,n),mejs.players.push(this),this.init(),this);return new mejs.MediaElementPlayer(t,n)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var t=this,n=mejs.MediaFeatures,r=e.extend(!0,{},t.options,{success:function(e,n){t.meReady(e,n)},error:function(e){t.handleError(e)}}),i=t.media.tagName.toLowerCase();t.isDynamic=i!=="audio"&&i!=="video",t.isVideo=t.isDynamic?t.options.isVideo:i!=="audio"&&t.options.isVideo;if(n.isiPad&&t.options.iPadUseNativeControls||n.isiPhone&&t.options.iPhoneUseNativeControls)t.$media.attr("controls","controls"),n.isiPad&&t.media.getAttribute("autoplay")!==null&&(t.media.load(),t.media.play());else if(!n.isAndroid||!t.AndroidUseNativeControls)t.$media.removeAttr("controls"),t.id="mep_"+mejs.mepIndex++,t.container=e('<div id="'+t.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(t.$media[0].className).insertBefore(t.$media),t.container.addClass((n.isAndroid?"mejs-android ":"")+(n.isiOS?"mejs-ios ":"")+(n.isiPad?"mejs-ipad ":"")+(n.isiPhone?"mejs-iphone ":"")+(t.isVideo?"mejs-video ":"mejs-audio ")),n.isiOS?(n=t.$media.clone(),t.container.find(".mejs-mediaelement").append(n),t.$media.remove(),t.$node=t.$media=n,t.node=t.media=n[0]):t.container.find(".mejs-mediaelement").append(t.$media),t.controls=t.container.find(".mejs-controls"),t.layers=t.container.find(".mejs-layers"),n=i.substring(0,1).toUpperCase()+i.substring(1),t.width=t.options[i+"Width"]>0||t.options[i+"Width"].toString().indexOf("%")>-1?t.options[i+"Width"]:t.media.style.width!==""&&t.media.style.width!==null?t.media.style.width:t.media.getAttribute("width")!==null?t.$media.attr("width"):t.options["default"+n+"Width"],t.height=t.options[i+"Height"]>0||t.options[i+"Height"].toString().indexOf("%")>-1?t.options[i+"Height"]:t.media.style.height!==""&&t.media.style.height!==null?t.media.style.height:t.$media[0].getAttribute("height")!==null?t.$media.attr("height"):t.options["default"+n+"Height"],t.setPlayerSize(t.width,t.height),r.pluginWidth=t.height,r.pluginHeight=t.width;mejs.MediaElement(t.$media[0],r)},showControls:function(e){var t=this;e=typeof e=="undefined"||e,t.controlsAreVisible||(e?(t.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0}),t.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0})):(t.controls.css("visibility","visible").css("display","block"),t.container.find(".mejs-control").css("visibility","visible").css("display","block"),t.controlsAreVisible=!0),t.setControlsSize())},hideControls:function(t){var n=this;t=typeof t=="undefined"||t,n.controlsAreVisible&&(t?(n.controls.stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1}),n.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block")})):(n.controls.css("visibility","hidden").css("display","block"),n.container.find(".mejs-control").css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1))},controlsTimer:null,startControlsTimer:function(e){var t=this;e=typeof e!="undefined"?e:1500,t.killControlsTimer("start"),t.controlsTimer=setTimeout(function(){t.hideControls(),t.killControlsTimer("hide")},e)},killControlsTimer:function(){this.controlsTimer!==null&&(clearTimeout(this.controlsTimer),delete this.controlsTimer,this.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){this.killControlsTimer(),this.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){this.showControls(!1),this.controlsEnabled=!0},meReady:function(t,n){var r=this,i=mejs.MediaFeatures,s=n.getAttribute("autoplay");s=typeof s!="undefined"&&s!==null&&s!=="false";var o;if(!r.created){r.created=!0,r.media=t,r.domNode=n;if((!i.isAndroid||!r.options.AndroidUseNativeControls)&&(!i.isiPad||!r.options.iPadUseNativeControls)&&(!i.isiPhone||!r.options.iPhoneUseNativeControls)){r.buildposter(r,r.controls,r.layers,r.media),r.buildkeyboard(r,r.controls,r.layers,r.media),r.buildoverlays(r,r.controls,r.layers,r.media),r.findTracks();for(o in r.options.features){i=r.options.features[o];if(r["build"+i])try{r["build"+i](r,r.controls,r.layers,r.media)}catch(u){}}r.container.trigger("controlsready"),r.setPlayerSize(r.width,r.height),r.setControlsSize(),r.isVideo&&(mejs.MediaFeatures.hasTouch?r.$media.bind("touchstart",function(){r.controlsAreVisible?r.hideControls(!1):r.controlsEnabled&&r.showControls(!1)}):((r.media.pluginType=="native"?r.$media:e(r.media.pluginElement)).click(function(){t.paused?t.play():t.pause()}),r.container.bind("mouseenter mouseover",function(){r.controlsEnabled&&(r.options.alwaysShowControls||(r.killControlsTimer("enter"),r.showControls(),r.startControlsTimer(2500)))}).bind("mousemove",function(){r.controlsEnabled&&(r.controlsAreVisible||r.showControls(),r.options.alwaysShowControls||r.startControlsTimer(2500))}).bind("mouseleave",function(){r.controlsEnabled&&!r.media.paused&&!r.options.alwaysShowControls&&r.startControlsTimer(1e3)})),s&&!r.options.alwaysShowControls&&r.hideControls(),r.options.enableAutosize&&r.media.addEventListener("loadedmetadata",function(e){r.options.videoHeight<=0&&r.domNode.getAttribute("height")===null&&!isNaN(e.target.videoHeight)&&(r.setPlayerSize(e.target.videoWidth,e.target.videoHeight),r.setControlsSize(),r.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))},!1)),t.addEventListener("play",function(){for(var e=0,t=mejs.players.length;e<t;e++){var n=mejs.players[e];n.id!=r.id&&r.options.pauseOtherPlayers&&!n.paused&&!n.ended&&n.pause(),n.hasFocus=!1}r.hasFocus=!0},!1),r.media.addEventListener("ended",function(){try{r.media.setCurrentTime(0)}catch(e){}r.media.pause(),r.setProgressRail&&r.setProgressRail(),r.setCurrentRail&&r.setCurrentRail(),r.options.loop?r.media.play():!r.options.alwaysShowControls&&r.controlsEnabled&&r.showControls()},!1),r.media.addEventListener("loadedmetadata",function(){r.updateDuration&&r.updateDuration(),r.updateCurrent&&r.updateCurrent(),r.isFullScreen||(r.setPlayerSize(r.width,r.height),r.setControlsSize())},!1),setTimeout(function(){r.setPlayerSize(r.width,r.height),r.setControlsSize()},50),e(window).resize(function(){r.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||r.setPlayerSize(r.width,r.height),r.setControlsSize()}),r.media.pluginType=="youtube"&&r.container.find(".mejs-overlay-play").hide()}s&&t.pluginType=="native"&&(t.load(),t.play()),r.options.success&&(typeof r.options.success=="string"?window[r.options.success](r.media,r.domNode,r):r.options.success(r.media,r.domNode,r))}},handleError:function(e){this.controls.hide(),this.options.error&&this.options.error(e)},setPlayerSize:function(t,n){typeof t!="undefined"&&(this.width=t),typeof n!="undefined"&&(this.height=n);if(this.height.toString().indexOf("%")>0){var r=this.media.videoWidth&&this.media.videoWidth>0?this.media.videoWidth:this.options.defaultVideoWidth,i=this.media.videoHeight&&this.media.videoHeight>0?this.media.videoHeight:this.options.defaultVideoHeight,s=this.container.parent().width();r=parseInt(s*i/r,10),this.container.parent()[0].tagName.toLowerCase()==="body"&&(s=e(window).width(),r=e(window).height()),this.container.width(s).height(r),this.$media.width("100%").height("100%"),this.container.find("object, embed, iframe").width("100%").height("100%"),this.media.setVideoSize&&this.media.setVideoSize(s,r),this.layers.children(".mejs-layer").width("100%").height("100%")}else this.container.width(this.width).height(this.height),this.layers.children(".mejs-layer").width(this.width).height(this.height)},setControlsSize:function(){var t=0,n=0,r=this.controls.find(".mejs-time-rail"),i=this.controls.find(".mejs-time-total");this.controls.find(".mejs-time-current"),this.controls.find(".mejs-time-loaded");var s=r.siblings();this.options&&!this.options.autosizeProgress&&(n=parseInt(r.css("width")));if(n===0||!n)s.each(function(){e(this).css("position")!="absolute"&&(t+=e(this).outerWidth(!0))}),n=this.controls.width()-t-(r.outerWidth(!0)-r.width());r.width(n),i.width(n-(i.outerWidth(!0)-i.width())),this.setProgressRail&&this.setProgressRail(),this.setCurrentRail&&this.setCurrentRail()},buildposter:function(t,n,r,i){var s=e('<div class="mejs-poster mejs-layer"></div>').appendTo(r);n=t.$media.attr("poster"),t.options.poster!==""&&(n=t.options.poster),n!==""&&n!=null?this.setPoster(n):s.hide(),i.addEventListener("play",function(){s.hide()},!1)},setPoster:function(t){var n=this.container.find(".mejs-poster"),r=n.find("img");r.length==0&&(r=e('<img width="100%" height="100%" />').appendTo(n)),r.attr("src",t)},buildoverlays:function(t,n,r,i){if(t.isVideo){var s=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>'
).hide().appendTo(r),o=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(r),u=e('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(r).click(function(){i.paused?i.play():i.pause()});i.addEventListener("play",function(){u.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),o.hide()},!1),i.addEventListener("playing",function(){u.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),o.hide()},!1),i.addEventListener("seeking",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),i.addEventListener("seeked",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),i.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||u.show()},!1),i.addEventListener("waiting",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),i.addEventListener("loadeddata",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),i.addEventListener("canplay",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),i.addEventListener("error",function(){s.hide(),n.find(".mejs-time-buffering").hide(),o.show(),o.find("mejs-overlay-error").html("Error loading this resource")},!1)}},buildkeyboard:function(t,n,r,i){e(document).keydown(function(e){if(t.hasFocus&&t.options.enableKeyboard)for(var n=0,r=t.options.keyActions.length;n<r;n++)for(var s=t.options.keyActions[n],o=0,u=s.keys.length;o<u;o++)if(e.keyCode==s.keys[o])return e.preventDefault(),s.action(t,i),!1;return!0}),e(document).click(function(n){e(n.target).closest(".mejs-container").length==0&&(t.hasFocus=!1)})},findTracks:function(){var t=this,n=t.$media.find("track");t.tracks=[],n.each(function(n,r){r=e(r),t.tracks.push({srclang:r.attr("srclang").toLowerCase(),src:r.attr("src"),kind:r.attr("kind"),label:r.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(e){this.container[0].className="mejs-container "+e,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){this.media.pluginType=="flash"?this.media.remove():this.media.pluginType=="native"&&this.media.prop("controls",!0),this.isDynamic||this.$node.insertBefore(this.container),this.container.remove()}},typeof jQuery!="undefined"&&(jQuery.fn.mediaelementplayer=function(e){return this.each(function(){new mejs.MediaElementPlayer(this,e)})}),e(document).ready(function(){e(".mejs-player").mediaelementplayer()}),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(e){e.extend(mejs.MepDefaults,{playpauseText:"Play/Pause"}),e.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,n,r,i){var s=e('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+this.id+'" title="'+this.options.playpauseText+'"></button></div>').appendTo(n).click(function(e){return e.preventDefault(),i.paused?i.play():i.pause(),!1});i.addEventListener("play",function(){s.removeClass("mejs-play").addClass("mejs-pause")},!1),i.addEventListener("playing",function(){s.removeClass("mejs-play").addClass("mejs-pause")},!1),i.addEventListener("pause",function(){s.removeClass("mejs-pause").addClass("mejs-play")},!1),i.addEventListener("paused",function(){s.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{stopText:"Stop"}),e.extend(MediaElementPlayer.prototype,{buildstop:function(t,n,r,i){e('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+this.id+'" title="'+this.options.stopText+'"></button></div>').appendTo(n).click(function(){i.paused||i.pause(),i.currentTime>0&&(i.setCurrentTime(0),n.find(".mejs-time-current").width("0px"),n.find(".mejs-time-handle").css("left","0px"),n.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0)),n.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0)),r.find(".mejs-poster").show())})}})}(mejs.$),function(e){e.extend(MediaElementPlayer.prototype,{buildprogress:function(t,n,r,i){e('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(n),n.find(".mejs-time-buffering").hide();var s=n.find(".mejs-time-total");r=n.find(".mejs-time-loaded");var o=n.find(".mejs-time-current"),u=n.find(".mejs-time-handle"),a=n.find(".mejs-time-float"),l=n.find(".mejs-time-float-current"),c=function(e){e=e.pageX;var t=s.offset(),n=s.outerWidth(),r=0;r=0;var o=e-t.left;e>t.left&&e<=n+t.left&&i.duration&&(r=(e-t.left)/n,r=r<=.02?0:r*i.duration,h&&i.setCurrentTime(r),mejs.MediaFeatures.hasTouch||(a.css("left",o),l.html(mejs.Utility.secondsToTimeCode(r)),a.show()))},h=!1;s.bind("mousedown",function(t){if(t.which===1)return h=!0,c(t),e(document).bind("mousemove.dur",function(e){c(e)}).bind("mouseup.dur",function(){h=!1,a.hide(),e(document).unbind(".dur")}),!1}).bind("mouseenter",function(){e(document).bind("mousemove.dur",function(e){c(e)}),mejs.MediaFeatures.hasTouch||a.show()}).bind("mouseleave",function(){h||(e(document).unbind(".dur"),a.hide())}),i.addEventListener("progress",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),i.addEventListener("timeupdate",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),this.loaded=r,this.total=s,this.current=o,this.handle=u},setProgressRail:function(e){var t=e!=undefined?e.target:this.media,n=null;t&&t.buffered&&t.buffered.length>0&&t.buffered.end&&t.duration?n=t.buffered.end(0)/t.duration:t&&t.bytesTotal!=undefined&&t.bytesTotal>0&&t.bufferedBytes!=undefined?n=t.bufferedBytes/t.bytesTotal:e&&e.lengthComputable&&e.total!=0&&(n=e.loaded/e.total),n!==null&&(n=Math.min(1,Math.max(0,n)),this.loaded&&this.total&&this.loaded.width(this.total.width()*n))},setCurrentRail:function(){if(this.media.currentTime!=undefined&&this.media.duration&&this.total&&this.handle){var e=this.total.width()*this.media.currentTime/this.media.duration,t=e-this.handle.outerWidth(!0)/2;this.current.width(e),this.handle.css("left",t)}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "}),e.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,n,r,i){e('<div class="mejs-time"><span class="mejs-currenttime">'+(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(n),this.currenttime=this.controls.find(".mejs-currenttime"),i.addEventListener("timeupdate",function(){t.updateCurrent()},!1)},buildduration:function(t,n,r,i){n.children().last().find(".mejs-currenttime").length>0?e(this.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(n.find(".mejs-time")):(n.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),e('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(n)),this.durationD=this.controls.find(".mejs-duration"),i.addEventListener("timeupdate",function(){t.updateDuration()},!1)},updateCurrent:function(){this.currenttime&&this.currenttime.html(mejs.Utility.secondsToTimeCode(this.media.currentTime,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))},updateDuration:function(){this.media.duration&&this.durationD&&this.durationD.html(mejs.Utility.secondsToTimeCode(this.media.duration,this.options.alwaysShowHours,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),e.extend(MediaElementPlayer.prototype,{buildvolume:function(t,n,r,i){if(!mejs.MediaFeatures.hasTouch||!this.options.hideVolumeOnTouchDevices){var s=this.isVideo?this.options.videoVolume:this.options.audioVolume,o=s=="horizontal"?e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+this.id+'" title="'+this.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(n):e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+this.id+'" title="'+this.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(n),u=this.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),a=this.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),l=this.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),c=this.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),h=function(e,t){if(!u.is(":visible")&&typeof t!="undefined")u.show(),h(e,!0),u.hide();else{e=Math.max(0,e),e=Math.min(e,1),e==0?o.removeClass("mejs-mute").addClass("mejs-unmute"):o.removeClass("mejs-unmute").addClass("mejs-mute");if(s=="vertical"){var n=a.height(),r=a.position(),i=n-n*e;c.css("top",r.top+i-c.height()/2),l.height(n-i),l.css("top",r.top+i)}else n=a.width(),r=a.position(),n*=e,c.css("left",r.left+n-c.width()/2),l.width(n)}},p=function(e){var t=null,n=a.offset();if(s=="vertical"){t=a.height(),parseInt(a.css("top").replace(/px/,""),10),t=(t-(e.pageY-n.top))/t;if(n.top==0||n.left==0)return}else t=a.width(),t=(e.pageX-n.left)/t;t=Math.max(0,t),t=Math.min(t,1),h(t),t==0?i.setMuted(!0):i.setMuted(!1),i.setVolume(t)},d=!1,v=!1;o.hover(function(){u.show(),v=!0},function(){v=!1,!d&&s=="vertical"&&u.hide()}),u.bind("mouseover",function(){v=!0}).bind("mousedown",function(t){return p(t),e(document).bind("mousemove.vol",function(e){p(e)}).bind("mouseup.vol",function(){d=!1,e(document).unbind(".vol"),!v&&s=="vertical"&&u.hide()}),d=!0,!1}),o.find("button").click(function(){i.setMuted(!i.muted)}),i.addEventListener("volumechange",function(){d||(i.muted?(h(0),o.removeClass("mejs-mute").addClass("mejs-unmute")):(h(i.volume),o.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),this.container.is(":visible")&&(h(t.options.startVolume),i.pluginType==="native"&&i.setVolume(t.options.startVolume))}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"}),e.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,docStyleOverflow:null,isInIframe:!1,buildfullscreen:function(t,n,r,i){if(t.isVideo){t.isInIframe=window.location!=window.parent.location,mejs.MediaFeatures.hasTrueNativeFullScreen&&(r=null,r=mejs.MediaFeatures.hasMozNativeFullScreen?e(document):t.container,r.bind(mejs.MediaFeatures.fullScreenEventName,function(){mejs.MediaFeatures.isFullScreen()?(t.isNativeFullScreen=!0,t.setControlsSize()):(t.isNativeFullScreen=!1,t.exitFullScreen())}));var s=this,o=e('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+s.id+'" title="'+s.options.fullscreenText+'"></button></div>').appendTo(n);if(s.media.pluginType==="native"||!s.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)o.click(function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||t.isFullScreen?t.exitFullScreen():t.enterFullScreen()});else{var u=null;n=function(){var e=document.createElement("x"),t=document.documentElement,n=window.getComputedStyle;return"pointerEvents"in e.style?(e.style.pointerEvents="auto",e.style.pointerEvents="x",t.appendChild(e),n=n&&n(e,"").pointerEvents==="auto",t.removeChild(e),!!n):!1}(),console.log("supportsPointerEvents",n);if(n&&!mejs.MediaFeatures.isOpera){var a=!1,l=function(){a&&(c.hide(),h.hide(),p.hide(),o.css("pointer-events",""),s.controls.css("pointer-events",""),a=!1)},c=e('<div class="mejs-fullscreen-hover" />').appendTo(s.container).mouseover(l),h=e('<div class="mejs-fullscreen-hover"  />').appendTo(s.container).mouseover(l),p=e('<div class="mejs-fullscreen-hover"  />').appendTo(s.container).mouseover(l),d=function(){var e={position:"absolute",top:0,left:0};c.css(e),h.css(e),p.css(e),c.width(s.container.width()).height(s.container.height()-s.controls.height()),e=o.offset().left-s.container.offset().left,fullScreenBtnWidth=o.outerWidth(!0),h.width(e).height(s.controls.height()).css({top:s.container.height()-s.controls.height()}),p.width(s.container.width()-e-fullScreenBtnWidth).height(s.controls.height()).css({top:s.container.height()-s.controls.height(),left:e+fullScreenBtnWidth})};e(document).resize(function(){d()}),o.mouseover(function(){if(!s.isFullScreen){var e=o.offset(),n=t.container.offset();i.positionFullscreenButton(e.left-n.left,e.top-n.top,!1),o.css("pointer-events","none"),s.controls.css("pointer-events","none"),c.show(),p.show(),h.show(),d(),a=!0}}),i.addEventListener("fullscreenchange",function(){l()})}else o.mouseover(function(){u!==null&&(clearTimeout(u),delete u);var e=o.offset(),n=t.container.offset();i.positionFullscreenButton(e.left-n.left,e.top-n.top,!0)}).mouseout(function(){u!==null&&(clearTimeout(u),delete u),u=setTimeout(function(){i.hideFullscreenButton()},1500)})}t.fullscreenBtn=o,e(document).bind("keydown",function(e){(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||s.isFullScreen)&&e.keyCode==27&&t.exitFullScreen()})}},enterFullScreen:function(){var t=this;if(t.media.pluginType==="native"||!mejs.MediaFeatures.isFirefox&&!t.options.usePluginFullScreen){docStyleOverflow=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden",normalHeight=t.container.height(),normalWidth=t.container.width();if(t.media.pluginType==="native")if(mejs.MediaFeatures.hasTrueNativeFullScreen)mejs.MediaFeatures.requestFullScreen(t.container[0]),t.isInIframe&&setTimeout(function r(){t.isNativeFullScreen&&(e(window).width()!==screen.width?t.exitFullScreen():setTimeout(r,500))},500);else if(mejs.MediaFeatures.hasSemiNativeFullScreen){t.media.webkitEnterFullscreen();return}if(t.isInIframe){var n=t.options.newWindowCallback(this);if(n!==""){if(!mejs.MediaFeatures.hasTrueNativeFullScreen){t.pause(),window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}setTimeout(function(){t.isNativeFullScreen||(t.pause(),window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}t.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),setTimeout(function(){t.container.css({width:"100%",height:"100%"}),t.setControlsSize()},500),t.pluginType==="native"?t.$media.width("100%").height("100%"):(t.container.find("object, embed, iframe").width("100%").height("100%"),t.media.setVideoSize(e(window).width(),e(window).height())),t.layers.children("div").width("100%").height("100%"),t.fullscreenBtn&&t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),t.setControlsSize(),t.isFullScreen=!0}},exitFullScreen:function(){this.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox?this.media.setFullscreen(!1):(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||this.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),document.documentElement.style.overflow=docStyleOverflow,this.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),this.pluginType==="native"?this.$media.width(normalWidth).height(normalHeight):(this.container.find("object embed").width(normalWidth).height(normalHeight),this.media.setVideoSize(normalWidth,normalHeight)),this.layers.children("div").width(normalWidth).height(normalHeight),this.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),this.setControlsSize(),this.isFullScreen=!1)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{startLanguage:"",tracksText:"Captions/Subtitles"}),e.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(t,n,r,i){if(t.isVideo&&t.tracks.length!=0){var s;t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(r).hide(),t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(r).hide(),t.captionsText=t.captions.find(".mejs-captions-text"),t.captionsButton=e('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+this.id+'" title="'+this.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" /><label for="'+t.id+'_captions_none">None</label></li></ul></div></div>').appendTo(n).hover(function(){e(this).find(".mejs-captions-selector").css("visibility","visible")},function(){e(this).find(".mejs-captions-selector").css("visibility","hidden")}).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none")t.selectedTrack=null;else for(s=0;s<t.tracks.length;s++)if(t.tracks[s].srclang==lang){t.selectedTrack=t.tracks[s],t.captions.attr("lang",t.selectedTrack.srclang),t.displayCaptions();break}}),t.options.alwaysShowControls?t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):t.container.bind("mouseenter",function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",function(){i.paused||t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),t.trackToLoad=-1,t.selectedTrack=null,t.isLoadingTrack=!1;for(s=0;s<t.tracks.length;s++)t.tracks[s].kind=="subtitles"&&t.addTrackButton(t.tracks[s].srclang,t.tracks[s].label);t.loadNextTrack(),i.addEventListener("timeupdate",function(){t.displayCaptions()},!1),i.addEventListener("loadedmetadata",function(){t.displayChapters()},!1),t.container.hover(function(){t.hasChapters&&(t.chapters.css("visibility","visible"),t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight()))},function(){t.hasChapters&&!i.paused&&t.chapters.fadeOut(200,function(){e(this).css("visibility","hidden"),e(this).css("display","block")})}),t.node.getAttribute("autoplay")!==null&&t.chapters.css("visibility","hidden")}},loadNextTrack:function(){this.trackToLoad++,this.trackToLoad<this.tracks.length?(this.isLoadingTrack=!0,this.loadTrack(this.trackToLoad)):this.isLoadingTrack=!1},loadTrack:function(t){var n=this,r=n.tracks[t],i=function(){r.isLoaded=!0,n.enableTrackButton(r.srclang,r.label),n.loadNextTrack()};r.isTranslation?mejs.TrackFormatParser.translateTrackText(n.tracks[0].entries,n.tracks[0].srclang,r.srclang,n.options.googleApiKey,function(e){r.entries=e,i()}):e.ajax({url:r.src,success:function(e){r.entries=mejs.TrackFormatParser.parse(e),i(),r.kind=="chapters"&&n.media.duration>0&&n.drawChapters(r)},error:function(){n.loadNextTrack()}})},enableTrackButton:function(t,n){n===""&&(n=mejs.language.codes[t]||t),this.captionsButton.find("input[value="+t+"]").prop("disabled",!1).siblings("label").html(n),this.options.startLanguage==t&&e("#"+this.id+"_captions_"+t).click(),this.adjustLanguageBox()},addTrackButton:function(t,n){n===""&&(n=mejs.language.codes[t]||t),this.captionsButton.find("ul").append(e('<li><input type="radio" name="'+this.id+'_captions" id="'+this.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" /><label for="'+this.id+"_captions_"+t+'">'+n+" (loading)</label></li>")),this.adjustLanguageBox(),this.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){this.captionsButton.find(".mejs-captions-selector").height(this.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+this.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},displayCaptions:function(){if(typeof this.tracks!="undefined"){var e,t=this.selectedTrack;if(t!=null&&t.isLoaded)for(e=0;e<t.entries.times.length;e++)if(this.media.currentTime>=t.entries.times[e].start&&this.media.currentTime<=t.entries.times[e].stop){this.captionsText.html(t.entries.text[e]),this.captions.show().height(0);return}this.captions.hide()}},displayChapters:function(){var e;for(e=0;e<this.tracks.length;e++)if(this.tracks[e].kind=="chapters"&&this.tracks[e].isLoaded){this.drawChapters(this.tracks[e]),this.hasChapters=!0;break}},drawChapters:function(t){var n=this,r,i,s=i=0;n.chapters.empty();for(r=0;r<t.entries.times.length;r++){i=t.entries.times[r].stop-t.entries.times[r].start,i=Math.floor(i/n.media.duration*100);if(i+s>100||r==t.entries.times.length-1&&i+s<100)i=100-s;n.chapters.append(e('<div class="mejs-chapter" rel="'+t.entries.times[r].start+'" style="left: '+s.toString()+"%;width: "+i.toString()+'%;"><div class="mejs-chapter-block'+(r==t.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+t.entries.text[r]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(t.entries.times[r].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(t.entries.times[r].stop)+"</span></div></div>")),s+=i}n.chapters.find("div.mejs-chapter").click(function(){n.media.setCurrentTime(parseFloat(e(this).attr("rel"))),n.media.paused&&n.media.play()}),n.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,split2:function(e,t){return e.split(t)},parse:function(e){var t=0;e=this.split2(e,/\r?\n/);for(var n={text:[],times:[]},r,i;t<e.length;t++)if(this.pattern_identifier.exec(e[t])){t++;if((r=this.pattern_timecode.exec(e[t]))&&t<e.length){t++,i=e[t];for(t++;e[t]!==""&&t<e.length;)i=i+"\n"+e[t],t++;n.text.push(i),n.times.push({start:mejs.Utility.timeCodeToSeconds(r[1]),stop:mejs.Utility.timeCodeToSeconds(r[3]),settings:r[5]})}}return n}},"x\n\ny".split(/\n/gi).length!=3&&(mejs.TrackFormatParser.split2=function(e,t){var n=[],r="",i;for(i=0;i<e.length;i++)r+=e.substring(i,i+1),t.test(r)&&(n.push(r.replace(t,"")),r="");return n.push(r),n})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(e){return typeof e.enterFullScreen=="undefined"?null:e.isFullScreen?"Turn off Fullscreen":"Go Fullscreen"},click:function(e){e.isFullScreen?e.exitFullScreen():e.enterFullScreen()}},{render:function(e){return e.media.muted?"Unmute":"Mute"},click:function(e){e.media.muted?e.setMuted(!1):e.setMuted(!0)}},{isSeparator:!0},{render:function(){return"Download Video"},click:function(e){window.location.href=e.media.currentSrc}}]}),e.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t){t.contextMenu=e('<div class="mejs-contextmenu"></div>').appendTo(e("body")).hide(),t.container.bind("contextmenu",function(e){if(t.isContextMenuEnabled)return e.preventDefault(),t.renderContextMenu(e.clientX-1,e.clientY-1),!1}),t.container.bind("click",function(){t.contextMenu.hide()}),t.contextMenu.bind("mouseleave",function(){t.startContextMenuTimer()})},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var e=this;e.killContextMenuTimer(),e.contextMenuTimer=setTimeout(function(){e.hideContextMenu(),e.killContextMenuTimer()},750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;e!=null&&(clearTimeout(e),delete e)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,n){for(var r=this,i="",s=r.options.contextMenuItems,o=0,u=s.length;o<u;o++)if(s[o].isSeparator)i+='<div class="mejs-contextmenu-separator"></div>';else{var a=s[o].render(r);a!=null&&(i+='<div class="mejs-contextmenu-item" data-itemindex="'+o+'" id="element-'+Math.random()*1e6+'">'+a+"</div>")}r.contextMenu.empty().append(e(i)).css({top:n,left:t}).show(),r.contextMenu.find(".mejs-contextmenu-item").each(function(){var t=e(this),n=parseInt(t.data("itemindex"),10),i=r.options.contextMenuItems[n];typeof i.show!="undefined"&&i.show(t,r),t.click(function(){typeof i.click!="undefined"&&i.click(r),r.contextMenu.hide()})}),setTimeout(function(){r.killControlsTimer("rev3")},100)}})}(mejs.$);